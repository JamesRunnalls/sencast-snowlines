<graph id="Graph">
    <version>1.0</version>
	 <node id="Read">
        <operator>Read</operator>
        <sources/>
        <parameters class="com.bc.ceres.binding.dom.XppDomElement">
          <file>${infile}</file>
        </parameters>
      </node>
    <node id="BandmathsNode">
		<operator>BandMaths</operator>
		<sources>
			<source>Read</source>
		</sources>
		<parameters>
			<targetBands>
                <targetBand>
					<name>IDEPIX_SNOW_ICE</name>
					<type>float32</type>
					<expression>IDEPIX_SNOW_ICE</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
				<targetBand>
					<name>IDEPIX_CLOUD</name>
					<type>float32</type>
					<expression>IDEPIX_CLOUD</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
				<targetBand>
					<name>IDEPIX_INVALID</name>
					<type>float32</type>
					<expression>IDEPIX_INVALID</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
				<targetBand>
					<name>IDEPIX_CLOUD_AMBIGUOUS</name>
					<type>float32</type>
					<expression>IDEPIX_CLOUD_AMBIGUOUS</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
				<targetBand>
					<name>IDEPIX_CLOUD_SURE</name>
					<type>float32</type>
					<expression>IDEPIX_CLOUD_SURE</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
				<targetBand>
					<name>IDEPIX_CLOUD_BUFFER</name>
					<type>float32</type>
					<expression>IDEPIX_CLOUD_BUFFER</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
				<targetBand>
					<name>IDEPIX_CLOUD_SHADOW</name>
					<type>float32</type>
					<expression>IDEPIX_CLOUD_SHADOW</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
				<targetBand>
					<name>IDEPIX_LAND</name>
					<type>float32</type>
					<expression>IDEPIX_LAND</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
                <targetBand>
					<name>RED</name>
					<type>float32</type>
					<expression>B4</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
                <targetBand>
					<name>GREEN</name>
					<type>float32</type>
					<expression>B3</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
                <targetBand>
					<name>BLUE</name>
					<type>float32</type>
					<expression>B2</expression>
					<noDataValue>NaN</noDataValue>
				</targetBand>
			</targetBands>
    	</parameters>
	</node>
    <node id="WriteNode">
        <operator>Write</operator>
		<sources>
			<source>BandmathsNode</source>
		</sources>
		<parameters>
			<file>${outfile}</file>
			<formatName>NetCDF4-BEAM</formatName>
		</parameters>
    </node>
</graph>